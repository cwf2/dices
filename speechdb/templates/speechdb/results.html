{% extends "speechdb/base.html" %}

{% block body %}
<div class="row">
	<!-- collapsible filters pane -->
  <div class="col-lg-3 collapse show" id="collapseSidebar">
    <div class="alert alert-secondary">
			<form action="{{ request.path }}" method="GET">
				<!-- panel controls -->
				<div class="d-flex align-items-center justify-content-between mb-3">
					<div class="d-flex align-items-center me-auto ms-2 my-2 gap-3">
		        <button type="submit" class="btn btn-secondary btn-sm px-4" >Update</button>
		        <a class="btn btn-outline-secondary btn-sm px-4"  href="{% url 'app:speeches' %}">Reset</a>
					</div>
					
				  <button type="button" class="btn btn-outline-secondary btn-sm" id="btnCollapseSidebar" data-bs-toggle="collapse" data-bs-target="#collapseSidebar">
						<i class="fa-solid fa-square-caret-left"></i>
					</button>
				</div>
			
			<!-- filters -->
      {% block filters %}
      {% endblock %}
			</form>
    </div>
  </div>
	
	<!-- results pane -->
  <div class="col position-relative">
		<button class="btn position-absolute top-0" id="btnExpandSidebar" style="left:-1.25rem" data-bs-toggle="collapse" data-bs-target="#collapseSidebar">
	    <i class="fa-solid fa-square-caret-right"></i>
  	</button>
		<div class="d-flex align-items-center">
		  <div class="d-flex ms-auto">
		    <span class="btn btn-outline-secondary btn-sm disabled">
		      {{ object_list|length }} results
		    </span>
		    <a class="btn btn-outline-secondary btn-sm"
		       href="{% url 'app:speeches_csv' %}?{{ request.GET.urlencode }}">
		      <i class="fa-solid fa-download"></i> CSV
		    </a>
		  </div>
		</div>
  {% if not object_list %}
  <div class="p-4 bg-light rounded">
    <p>Your search produced no results.</p>
  </div>
  {% endif %}
  {% block results %}
  {% endblock %}
  </div>
</div>
{% endblock %}