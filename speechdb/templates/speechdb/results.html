{% extends "speechdb/base.html" %}

{% block body %}
<div class="row h-100" style="min-height:0;">
	<!-- collapsible filters pane -->
  <div id="sidebarContainer" class="col-lg-3 h-100 overflow-auto collapse show">
    <div class="alert alert-secondary">
			<form action="{{ request.path }}" method="GET">
				<!-- panel controls -->
				<div class="bg-white border rounded d-flex gap-2 align-items-center mb-3">
					<div class="d-flex align-items-center me-auto ms-2 my-2 gap-3">
		        <button type="submit" class="btn btn-secondary btn-sm px-4" >Update</button>
		        <a class="btn btn-outline-secondary btn-sm px-4"  href="{{ request.path }}">Reset</a>
					</div>
					
					<div class="d-flex align-items-center ms-auto me-2 my-2 gap-3">
					  <button type="button" class="btn btn-light text-muted btn-sm" id="btnCollapseSidebar" data-bs-toggle="collapse" data-bs-target="#sidebarContainer">
							<i class="fa-solid fa-square-caret-left"></i>
						</button>
					</div>
				</div>
			
			<!-- filters -->
      {% block filters %}
      {% endblock %}
			</form>
    </div>
  </div>
	
	<!-- results pane -->
  <div id="resultsContainer" class="col h-100 overflow-auto flex-grow-1 position-relative">
		<button class="btn position-absolute top-0 expand-btn" id="btnExpandSidebar" style="left:-1.25rem" data-bs-toggle="collapse" data-bs-target="#sidebarContainer">
	    <i class="fa-solid fa-square-caret-right"></i>
  	</button>
		<div class="d-flex align-items-center">
		  <div class="d-flex ms-auto">
		    <span class="btn btn-outline-secondary btn-sm disabled">
		      {{ object_list|length }} results
		    </span>
		    <a class="btn btn-outline-secondary btn-sm"
		       href="{% url csv_url_name %}?{{ request.GET.urlencode }}">
		      <i class="fa-solid fa-download"></i> CSV
		    </a>
		  </div>
		</div>
  {% if not object_list %}
  <div class="p-4 bg-light rounded">
    <p>Your search produced no results.</p>
  </div>
  {% endif %}
  {% block results %}
  {% endblock %}
  </div>
</div>
{% endblock %}